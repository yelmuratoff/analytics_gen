auth:
  login:
    description: User logs in to the application
    deprecated: true
    replacement: auth.login_v2
    meta:
      owner: "auth-team"
      tier: "critical"
    parameters:
      method:
        type: string
        description: Login method (email, google, apple)
        meta:
          is_sensitive: true

  login_v2:
    description: User logs in to the application (v2)
    dual_write_to: ["auth.login"]
    parameters:
      session_id: # Shared
      method:
        type: string
        description: Login method v2 (email, google, apple)
        identifier: login_method
        param_name: login-method
        allowed_values: ["email", "google", "apple"]

  logout:
    description: User logs out
    parameters: {}

  signup:
    description: User creates a new account
    parameters:
      method: string
      referral_code:
        type: string?
        description: Optional referral code used during signup
        regex: "^[A-Z0-9]{6}$"

  phone_login:
    description: When user logs in via phone
    event_name: "Auth: Phone {phone_country}"
    identifier: auth.phone_login
    parameters:
      phone_country:
        type: string
        description: ISO country code for the dialed number
      user_exists:
        type: bool?
        description: Whether the user exists or not
      tracking_token:
        type: string
        identifier: tracking_token
        param_name: tracking-token
        description: Legacy token kept for backend reconciliation

  verify_user:
    description: User verification status change
    parameters:
      status:
        dart_type: VerificationStatus
        import: "package:analytics_gen_example/models.dart"
      local_status:
        dart_type: LocalStatus
        import: "package:analytics_gen_example/local_enums.dart"
